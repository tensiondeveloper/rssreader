<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:mvc="http://www.springframework.org/schema/mvc"
	xmlns:p="http://www.springframework.org/schema/p"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
		http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd">


	<context:property-placeholder
		location="classpath:/META-INF/properties/*.properties" />
	<!-- @ 로 시작하는 annotation 을 사용하기 위해 정의 -->
	<mvc:annotation-driven></mvc:annotation-driven>

	<!-- Controller 객체를 Spring Factory에 Bean으로 등록한다. -->
	<context:component-scan
		base-package="co.kr.mba.controller"></context:component-scan>

	<!-- jsonView 등록 -->
	<bean id="jsonView"
		class="org.springframework.web.servlet.view.json.MappingJackson2JsonView" />

	<!-- 엑셀뷰 등록 -->
	<!-- <bean id="excelView" class="kr.co.itpartners.view.ExcelView"></bean> -->

	<!-- ViewResolver 등록하기 (WEB-INF 밑에 소스 가져다 놓을때 경로를 알려주는 bean객체) -->
	<bean id="viewResolver"
		class="org.springframework.web.servlet.view.InternalResourceViewResolver">
		<property name="prefix" value="WEB-INF/views/"></property>
		<property name="suffix" value=".jsp"></property>
		<property name="order" value="2"></property>
	</bean>


	<!-- 국제화처리를 위한 메세지 소스 읽어오는 객체 등록 -->
	<!-- <bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource"> 
		<property name="basename" value="classpath:/META-INF/i18n/messages"></property> 
		<property name="fallbackToSystemLocale" value="true"></property> </bean> -->

	<!-- spring과 tiles 연동하기 -->
	<!-- 타일즈 레이아웃 설정정보를 읽어가는 빈을 등록한다. tiles3 을 사용하려면 spring framework 버전에 3.2.14 
		이상이어야한다. -->
	<bean id="tilesConfigurer"
		class="org.springframework.web.servlet.view.tiles3.TilesConfigurer">
		<property name="definitions">
			<list>
				<value>/WEB-INF/tiles/layout.xml</value>
			</list>
		</property>
	</bean>

	<!-- ModelAndView 에 저장된 view 이름에 해당하는 빈을 등록한다. ViewResolver -->
	<bean id="tilesViewResolver"
		class="org.springframework.web.servlet.view.UrlBasedViewResolver">
		<property name="viewClass"
			value="org.springframework.web.servlet.view.tiles3.TilesView"></property>
		<property name="order" value="1"></property>
	</bean>

	<!-- 첨부파일 업로드를 지원하는 Resolver 등록하기 -->
	<bean id="multipartResolver"
		class="org.springframework.web.multipart.commons.CommonsMultipartResolver" />

	<bean id="fileDownloadView"
		class="co.kr.mba.controller.FileDownloadView" />
	<bean id="fileViewResolver"
		class="org.springframework.web.servlet.view.BeanNameViewResolver">
		<property name="order" value="0" />
	</bean>
	<mvc:resources mapping="/resources/**"
		location="/resources/" />
	<mvc:resources mapping="/css/**"
		location="/resources/css/" />
	<mvc:resources mapping="/img/**"
		location="/resources/img/" />
	<mvc:resources mapping="/js/**" location="/resources/js/" />
	<mvc:resources mapping="/summernote_image/**" location="file:///C:/summernote_image/" />
	<mvc:resources mapping="/mba_file/**" location="file:///C:/mba_file/" />
	<mvc:resources mapping="/journalresources/**" location="file:///C:/journalresources/" />
<mvc:resources mapping="/favicon.ico" location="/favicon.ico" />
	<!-- EmailSender 객체 등록하기 -->
	<!-- <bean id="mailSender" class="org.springframework.mail.javamail.JavaMailSenderImpl"> 
		<property name="host" value="smtp.gmail.com"></property> <property name="port" 
		value="587"></property> <property name="username" value=""></property> <property 
		name="password" value=""></property> <property name="javaMailProperties"> 
		<props> <prop key="mail.smtp.auth">true</prop> <prop key="mail.smtp.starttls.enable">true</prop> 
		</props> </property> </bean> -->

	<!-- 공용 로그인 체크 -->
	 <mvc:interceptors> 
	 <mvc:interceptor>
	  <mvc:mapping path="/**" />
	  <bean 
		class="co.kr.mba.commom.LoginInterceptor" />
		 </mvc:interceptor>
		  </mvc:interceptors>

</beans>
